<nav class="navbar navbar-default navbar-fixed-top">

    <div class="container-fluid">

        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" [attr.data-target]="'#' + shape.id" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">{{shape.text}}</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="{{shape.id}}">

            <template [ngIf]="shape.items" ngFor #child [ngForOf]="shape.items" #i="index">

                <ul *ngIf="child && (child.type === 'link' || child.type === 'dropdown')" class="nav navbar-nav navbar-left">
                    <li *ngIf="child.type === 'link'"><a href="{{child.action}}">{{child.text}}</a></li>

                    <li *ngIf="child.type === 'dropdown'" class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">{{child.text}} <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li *ngFor="#dropChild of child.items" [attr.role]="dropChild.type === 'separator'?'separator':''" class="{{dropChild.class}}">
                                <a *ngIf="dropChild.type !== 'separator'" href="{{dropChild.action}}">{{dropChild.text}}</a>
                            </li>
                        </ul>
                    </li>
                </ul>

            </template>

        </div>

    </div>

</nav>